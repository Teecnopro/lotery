import{$ as ye,Ha as De,Y as _e,c as F,ca as Ee,db as x,ea as ve,ga as V,i as ge,ic as Ie,j as be,jc as Se,m as j,n as z,na as we,za as Ae}from"./chunk-N4HBEQ2W.js";import{a as pe,b as me,e as f}from"./chunk-DVOCWXDE.js";var Ce=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Xe=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,he=s>>2,v=(s&3)<<4|a>>4,O=(a&15)<<2|u>>6,C=u&63;c||(C=64,o||(O=64)),i.push(n[he],n[v],n[O],n[C])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ce(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let v=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||v==null)throw new U;let O=s<<2|a>>4;if(i.push(O),u!==64){let C=a<<4&240|u>>2;if(i.push(C),v!==64){let Ye=u<<6&192|v;i.push(Ye)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},U=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Qe=function(t){let e=Ce(t);return xe.encodeByteArray(e,!0)},w=function(t){return Qe(t).replace(/\./g,"")},et=function(t){try{return xe.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var nt=()=>tt().__FIREBASE_DEFAULTS__,rt=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},it=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&et(t[1]);return e&&JSON.parse(e)},T=()=>{try{return nt()||rt()||it()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},st=t=>{var e,n;return(n=(e=T())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Dn=t=>{let e=st(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},G=()=>{var t;return(t=T())===null||t===void 0?void 0:t.config},In=t=>{var e;return(e=T())===null||e===void 0?void 0:e[`_${t}`]};var B=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function Sn(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[w(JSON.stringify(n)),w(JSON.stringify(o)),""].join(".")}function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function On(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function ot(){var t;let e=(t=T())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cn(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xn(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bn(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tn(){let t=Be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Rn(){return!ot()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){try{return typeof indexedDB=="object"}catch{return!1}}function Re(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var at="FirebaseError",g=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=at,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}},A=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?ct(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new g(r,a,i)}};function ct(t,e){return t.replace(lt,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var lt=/\{\$([^}]+)}/g;function Nn(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function R(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(Oe(s)&&Oe(o)){if(!R(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function Oe(t){return t!==null&&typeof t=="object"}function Mn(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ln(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function kn(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Pn(t,e){let n=new W(t,e);return n.subscribe.bind(n)}var W=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ut(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=H),r.error===void 0&&(r.error=H),r.complete===void 0&&(r.complete=H);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ut(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function H(){}var $n=4*60*60*1e3;function Fn(t){return t&&t._delegate?t._delegate:t}var _=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var b="[DEFAULT]";var J=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new B;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dt(e))try{this.getOrInitializeService({instanceIdentifier:b})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=b){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=b){return this.instances.has(e)}getOptions(e=b){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ft(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=b){return this.component?this.component.multipleInstances?e:b:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ft(t){return t===b?void 0:t}function dt(t){return t.instantiationMode==="EAGER"}var N=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new J(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ht=[],l=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(l||{}),pt={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},mt=l.INFO,gt={[l.DEBUG]:"log",[l.VERBOSE]:"log",[l.INFO]:"info",[l.WARN]:"warn",[l.ERROR]:"error"},bt=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=gt[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},M=class{constructor(e){this.name=e,this._logLevel=mt,this._logHandler=bt,this._userLogHandler=null,ht.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in l))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,l.DEBUG,...e),this._logHandler(this,l.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,l.VERBOSE,...e),this._logHandler(this,l.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,l.INFO,...e),this._logHandler(this,l.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,l.WARN,...e),this._logHandler(this,l.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,l.ERROR,...e),this._logHandler(this,l.ERROR,...e)}};var _t=(t,e)=>e.some(n=>t instanceof n),Ne,Me;function yt(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Et(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Le=new WeakMap,K=new WeakMap,ke=new WeakMap,Z=new WeakMap,Y=new WeakMap;function vt(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(d(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Le.set(n,t)}).catch(()=>{}),Y.set(e,t),e}function wt(t){if(K.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});K.set(t,e)}var q={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return K.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ke.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return d(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pe(t){q=t(q)}function At(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(L(this),e,...n);return ke.set(i,e.sort?e.sort():[e]),d(i)}:Et().includes(t)?function(...e){return t.apply(L(this),e),d(Le.get(this))}:function(...e){return d(t.apply(L(this),e))}}function Dt(t){return typeof t=="function"?At(t):(t instanceof IDBTransaction&&wt(t),_t(t,yt())?new Proxy(t,q):t)}function d(t){if(t instanceof IDBRequest)return vt(t);if(Z.has(t))return Z.get(t);let e=Dt(t);return e!==t&&(Z.set(t,e),Y.set(e,t)),e}var L=t=>Y.get(t);function Fe(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=d(o);return i&&o.addEventListener("upgradeneeded",c=>{i(d(o.result),c.oldVersion,c.newVersion,d(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var It=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],X=new Map;function $e(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(X.get(e))return X.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=St.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||It.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&c.done]))[0]})};return X.set(e,s),s}Pe(t=>me(pe({},t),{get:(e,n,i)=>$e(e,n)||t.get(e,n,i),has:(e,n)=>!!$e(e,n)||t.has(e,n)}));var ee=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ot(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function Ot(t){let e=t.getComponent();return e?.type==="VERSION"}var te="@firebase/app",je="0.10.13";var p=new M("@firebase/app"),Ct="@firebase/app-compat",xt="@firebase/analytics-compat",Bt="@firebase/analytics",Tt="@firebase/app-check-compat",Rt="@firebase/app-check",Nt="@firebase/auth",Mt="@firebase/auth-compat",Lt="@firebase/database",kt="@firebase/data-connect",Pt="@firebase/database-compat",$t="@firebase/functions",Ft="@firebase/functions-compat",jt="@firebase/installations",zt="@firebase/installations-compat",Vt="@firebase/messaging",Ht="@firebase/messaging-compat",Ut="@firebase/performance",Wt="@firebase/performance-compat",Gt="@firebase/remote-config",Jt="@firebase/remote-config-compat",Zt="@firebase/storage",Kt="@firebase/storage-compat",qt="@firebase/firestore",Yt="@firebase/vertexai-preview",Xt="@firebase/firestore-compat",Qt="firebase",en="10.14.1";var ne="[DEFAULT]",tn={[te]:"fire-core",[Ct]:"fire-core-compat",[Bt]:"fire-analytics",[xt]:"fire-analytics-compat",[Rt]:"fire-app-check",[Tt]:"fire-app-check-compat",[Nt]:"fire-auth",[Mt]:"fire-auth-compat",[Lt]:"fire-rtdb",[kt]:"fire-data-connect",[Pt]:"fire-rtdb-compat",[$t]:"fire-fn",[Ft]:"fire-fn-compat",[jt]:"fire-iid",[zt]:"fire-iid-compat",[Vt]:"fire-fcm",[Ht]:"fire-fcm-compat",[Ut]:"fire-perf",[Wt]:"fire-perf-compat",[Gt]:"fire-rc",[Jt]:"fire-rc-compat",[Zt]:"fire-gcs",[Kt]:"fire-gcs-compat",[qt]:"fire-fst",[Xt]:"fire-fst-compat",[Yt]:"fire-vertex","fire-js":"fire-js",[Qt]:"fire-js-all"};var D=new Map,nn=new Map,re=new Map;function ze(t,e){try{t.container.addComponent(e)}catch(n){p.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ie(t){let e=t.name;if(re.has(e))return p.debug(`There were multiple attempts to register component ${e}.`),!1;re.set(e,t);for(let n of D.values())ze(n,t);for(let n of nn.values())ze(n,t);return!0}function ir(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t.settings!==void 0}var rn={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},m=new A("app","Firebase",rn);var se=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw m.create("app-deleted",{appName:this._name})}};var or=en;function ce(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:ne,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw m.create("bad-app-name",{appName:String(r)});if(n||(n=G()),!n)throw m.create("no-options");let s=D.get(r);if(s){if(R(n,s.options)&&R(i,s.config))return s;throw m.create("duplicate-app",{appName:r})}let o=new N(r);for(let c of re.values())o.addComponent(c);let a=new se(n,i,o);return D.set(r,a),a}function We(t=ne){let e=D.get(t);if(!e&&t===ne&&G())return ce();if(!e)throw m.create("no-app",{appName:t});return e}function k(){return Array.from(D.values())}function h(t,e,n){var i;let r=(i=tn[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),p.warn(a.join(" "));return}ie(new _(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var sn="firebase-heartbeat-database",on=1,I="firebase-heartbeat-store",Q=null;function Ge(){return Q||(Q=Fe(sn,on,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(I)}catch(n){console.warn(n)}}}}).catch(t=>{throw m.create("idb-open",{originalErrorMessage:t.message})})),Q}function an(t){return f(this,null,function*(){try{let n=(yield Ge()).transaction(I),i=yield n.objectStore(I).get(Je(t));return yield n.done,i}catch(e){if(e instanceof g)p.warn(e.message);else{let n=m.create("idb-get",{originalErrorMessage:e?.message});p.warn(n.message)}}})}function Ve(t,e){return f(this,null,function*(){try{let i=(yield Ge()).transaction(I,"readwrite");yield i.objectStore(I).put(e,Je(t)),yield i.done}catch(n){if(n instanceof g)p.warn(n.message);else{let i=m.create("idb-set",{originalErrorMessage:n?.message});p.warn(i.message)}}})}function Je(t){return`${t.name}!${t.options.appId}`}var cn=1024,ln=30*24*60*60*1e3,oe=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ae(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return f(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=He();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=ln}),this._storage.overwrite(this._heartbeatsCache))}catch(i){p.warn(i)}})}getHeartbeatsHeader(){return f(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=He(),{heartbeatsToSend:i,unsentEntries:r}=un(this._heartbeatsCache.heartbeats),s=w(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return p.warn(n),""}})}};function He(){return new Date().toISOString().substring(0,10)}function un(t,e=cn){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Ue(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ue(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var ae=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Te()?Re().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield an(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Ve(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Ve(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Ue(t){return w(JSON.stringify({version:2,heartbeats:t})).length}function fn(t){ie(new _("platform-logger",e=>new ee(e),"PRIVATE")),ie(new _("heartbeat",e=>new oe(e),"PRIVATE")),h(te,je,t),h(te,je,"esm2017"),h("fire-js","")}fn("");var dn="firebase",hn="10.14.1";h(dn,hn,"app");var ue=new Ie("ANGULARFIRE2_VERSION");function yr(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var pn=(t,e)=>{let n=e?[e]:k(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Ze=class{constructor(){return pn(mn)}},mn="app-check";function E(){}var P=class{zone;delegate;constructor(e,n=be){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},le=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",E,{},E,E)),n.pipe(_e({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ke=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new P(Zone.current)),this.insideAngular=n.run(()=>new P(Zone.current,ge)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(ve(x))};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function gn(t){return $().ngZone.runOutsideAngular(()=>t())}function y(t){return $().ngZone.run(()=>t())}function bn(t){return _n($())(t)}function _n(t){return function(n){return n=n.lift(new le(t.ngZone)),n.pipe(z(t.outsideAngular),j(t.insideAngular))}}var yn=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),y(()=>t.apply(void 0,i))},qe=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=y(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",E,{},E,E))),i[s]=yn(i[s],n));let r=gn(()=>t.apply(this,i));if(!e)if(r instanceof F){let s=$();return r.pipe(z(s.outsideAngular),j(s.insideAngular))}else return y(()=>r);return r instanceof F?r.pipe(bn):r instanceof Promise?y(()=>new Promise((s,o)=>r.then(a=>y(()=>s(a)),a=>y(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:y(()=>r)};var S=class{constructor(e){return e}},fe=class{constructor(){return k()}};function En(t){return t&&t.length===1?t[0]:new S(We())}var de=new Ee("angularfire2._apps"),vn={provide:S,useFactory:En,deps:[[new V,de]]},wn={provide:fe,deps:[[new V,de]]};function An(t){return(e,n)=>{let i=n.get(De);h("angularfire",ue.full,"core"),h("angularfire",ue.full,"app"),h("angular",Se.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new S(r)}}function Br(t,...e){return we([vn,wn,{provide:de,useFactory:An(t),multi:!0,deps:[x,Ae,Ke,...e]}])}var Tr=qe(ce,!0);export{et as a,st as b,Dn as c,In as d,Sn as e,Be as f,On as g,Cn as h,xn as i,Bn as j,Tn as k,Rn as l,g as m,A as n,Nn as o,R as p,Mn as q,Ln as r,kn as s,Pn as t,Fn as u,_ as v,l as w,M as x,ie as y,ir as z,sr as A,or as B,We as C,h as D,ue as E,yr as F,pn as G,Ze as H,Ke as I,qe as J,S as K,fe as L,Br as M,Tr as N};
