import{A as q,C as u,D as m,n as z,q as c,r as D,s as r,u as I,v as y,z as b}from"./chunk-XFEE3PRU.js";import{$ as w,ea as g}from"./chunk-UIILES4X.js";import{a as p,b as h,c as l,e as a}from"./chunk-DVOCWXDE.js";var R=(()=>{class o{constructor(t){this.firestore=t}getByUid(t){return a(this,null,function*(){let e=yield I(r(this.firestore,"payment-parameterization",t));if(!e.exists())throw new Error("Pago no encontrado");return e.data()})}create(t){return a(this,null,function*(){let e=t.uid||`payment_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i=r(c(this.firestore,"payment-parameterization"),e),n=h(p({},t),{uid:e});return q(i,n).then(()=>n)})}update(t,e){return a(this,null,function*(){let i=r(c(this.firestore,"payment-parameterization"),t),s=e,{uid:n}=s,d=l(s,["uid"]);return u(i,d).then(()=>e)})}deactivate(t){return a(this,null,function*(){yield u(r(this.firestore,"payment-parameterization",t),{state:!1})})}delete(t){return a(this,null,function*(){yield D(r(this.firestore,"payment-parameterization",t))})}getAll(){return a(this,null,function*(){return(yield y(c(this.firestore,"payment-parameterization"))).docs.map(e=>e.data())})}getPaymentParameterizationByValue(t,e,i){return a(this,null,function*(){let n=c(this.firestore,"payment-parameterization"),d=b(n,m("amount","==",t),m("digits","==",e),m("combined","==",i));return y(d).then(s=>{if(s.empty)return null;let f=s.docs[0];return p({id:f.id},f.data())})})}static{this.\u0275fac=function(e){return new(e||o)(g(z))}}static{this.\u0275prov=w({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{R as a};
