import{b as Gt,c as Qt}from"./chunk-VN3EZAAJ.js";import"./chunk-RVH4HJSJ.js";import{a as qt,b as ct}from"./chunk-X34HCEUB.js";import{$a as at,A as Tt,B as Ft,C as It,D as Dt,E as Et,G as Lt,P as y,Q as M,Ra as J,Sa as K,Ta as W,Ua as X,Va as Z,Wa as tt,Xa as et,Ya as nt,Za as ot,_ as Rt,_a as it,aa as kt,ab as rt,bb as lt,cb as st,eb as mt,fb as At,ha as zt,hb as k,ka as Ut,ma as E,pa as Nt,qb as pt,r as wt,ra as $t,sa as Vt,sb as S,t as Y,ta as Ht,ua as jt,w as Bt,x as Pt,xa as R}from"./chunk-ANDZIBJU.js";import{$b as xt,Ab as d,Bb as O,Ca as L,Cb as w,Eb as j,Hb as _,Ic as Mt,Jb as f,Jc as St,Kc as D,Lc as Ot,Ob as Ct,Pb as vt,Pc as Q,Qb as bt,Qc as B,Rb as A,Sb as s,Tb as P,Ub as g,W as v,Wa as r,Zb as x,_b as q,bc as yt,cc as T,f as C,fa as u,fc as F,hc as G,ka as b,nb as c,pb as m,rb as I,sa as $,ta as V,ua as H,yb as o,zb as i}from"./chunk-75LTUFHW.js";import{e as N}from"./chunk-DVOCWXDE.js";var re=(t,n,e)=>({"text-success":t,"text-danger":n,"text-muted":e}),le=()=>[25];function se(t,n){t&1&&(o(0,"th",18),s(1,"Vendedor"),i())}function me(t,n){if(t&1&&(o(0,"td",19),s(1),i()),t&2){let e=n.$implicit;r(),P(e==null?null:e.vendorName)}}function pe(t,n){t&1&&(o(0,"td",20)(1,"strong"),s(2,"Total general:"),i()())}function ce(t,n){if(t&1&&(o(0,"th",18),s(1),i()),t&2){let e=f(3);r(),P(e.nameMonth1)}}function de(t,n){if(t&1&&(o(0,"td",19),s(1),T(2,"currency"),i()),t&2){let e=n.$implicit;r(),g(" ",F(2,1,e==null?null:e.valueMonth1,"COP","symbol")," ")}}function ue(t,n){t&1&&d(0,"td",20)}function _e(t,n){if(t&1&&(o(0,"th",18),s(1),i()),t&2){let e=f(3);r(),P(e.nameMonth2)}}function fe(t,n){if(t&1&&(o(0,"td",19),s(1),T(2,"currency"),i()),t&2){let e=n.$implicit;r(),g(" ",F(2,1,e==null?null:e.valueMonth2,"COP","symbol")," ")}}function ge(t,n){t&1&&d(0,"td",20)}function he(t,n){t&1&&(o(0,"th",18),s(1,"Total"),i())}function Ce(t,n){if(t&1&&(o(0,"td",19),s(1),T(2,"currency"),i()),t&2){let e=n.$implicit;r(),g(" ",F(2,1,e==null?null:e.total,"COP","symbol")," ")}}function ve(t,n){if(t&1&&(o(0,"td",20)(1,"strong"),s(2),T(3,"currency"),i()()),t&2){let e=f(3);r(2),P(F(3,1,e.overallTotal,"COP","symbol"))}}function be(t,n){t&1&&(o(0,"th",18),s(1,"Variaci\xF3n"),i())}function xe(t,n){t&1&&(o(0,"mat-icon",23),s(1,"arrow_upward"),i())}function ye(t,n){t&1&&(o(0,"mat-icon",23),s(1,"arrow_downward"),i())}function Me(t,n){t&1&&(o(0,"mat-icon",23),s(1,"remove"),i())}function Se(t,n){if(t&1&&(o(0,"td",19)(1,"span",21),c(2,xe,2,0,"mat-icon",22)(3,ye,2,0,"mat-icon",22)(4,Me,2,0,"mat-icon",22),s(5),T(6,"currency"),i()()),t&2){let e=n.$implicit;r(),m("ngClass",yt(9,re,(e==null?null:e.variation)>0,(e==null?null:e.variation)<0,(e==null?null:e.variation)===0)),r(),m("ngIf",(e==null?null:e.variation)>0),r(),m("ngIf",(e==null?null:e.variation)<0),r(),m("ngIf",(e==null?null:e.variation)===0),r(),g(" ",F(6,5,e==null?null:e.variation,"COP","symbol")," ")}}function Oe(t,n){t&1&&d(0,"td",20)}function we(t,n){t&1&&d(0,"tr",24)}function Be(t,n){t&1&&d(0,"tr",25)}function Pe(t,n){t&1&&d(0,"tr",26)}function Te(t,n){if(t&1&&(o(0,"table",6),O(1,7),c(2,se,2,0,"th",8)(3,me,2,1,"td",9)(4,pe,3,0,"td",10),w(),O(5,11),c(6,ce,2,1,"th",8)(7,de,3,5,"td",9)(8,ue,1,0,"td",10),w(),O(9,12),c(10,_e,2,1,"th",8)(11,fe,3,5,"td",9)(12,ge,1,0,"td",10),w(),O(13,13),c(14,he,2,0,"th",8)(15,Ce,3,5,"td",9)(16,ve,4,5,"td",10),w(),O(17,14),c(18,be,2,0,"th",8)(19,Se,7,13,"td",9)(20,Oe,1,0,"td",10),w(),c(21,we,1,0,"tr",15)(22,Be,1,0,"tr",16)(23,Pe,1,0,"tr",17),i()),t&2){let e=f(2);m("dataSource",e.dataSource),r(21),m("matHeaderRowDef",e.displayedColumns),r(),m("matRowDefColumns",e.displayedColumns),r(),m("matFooterRowDef",e.displayedColumns)("matFooterRowDefSticky",!0)}}function Fe(t,n){if(t&1){let e=j();o(0,"mat-paginator",27),_("page",function(a){V(e);let p=f(2);return H(p.onPageChange(a))}),i()}if(t&2){let e=f(2);m("length",e.total)("pageIndex",e.pageIndex)("pageSize",25)("pageSizeOptions",q(4,le))}}function Ie(t,n){t&1&&(o(0,"div",28)(1,"p"),s(2,"No hay resultados disponibles para los filtros seleccionados."),i()())}function De(t,n){if(t&1&&(o(0,"div",2),c(1,Te,24,5,"table",3)(2,Fe,1,5,"mat-paginator",4)(3,Ie,3,0,"div",5),i()),t&2){let e=f();r(),m("ngIf",e.dataSource.data==null?null:e.dataSource.data.length),r(),m("ngIf",e.dataSource.data==null?null:e.dataSource.data.length),r(),m("ngIf",(e.dataSource==null||e.dataSource.data==null?null:e.dataSource.data.length)===0)}}function Ee(t,n){t&1&&(o(0,"div",29),d(1,"mat-progress-spinner",30),o(2,"p"),s(3,"Cargando datos..."),i()())}var Jt=(()=>{class t{constructor(){this.loading=!1,this.total=0,this.pageIndex=0,this.pageSize=25,this.overallTotal=0,this.changePage=new L,this.breakpointObserver=u(y),this.destroy$=new C,this.fullColumns=["vendorName","valueMonth1","valueMonth2","total","variation"],this.mobileColumns=["valueMonth1","valueMonth2","total"],this.dataSource=new mt([]),this.displayedColumns=[],this.nameMonth1="Mes 1",this.nameMonth2="Mes 2"}ngOnInit(){this.adaptarResponsive()}ngOnChanges(e){let l=e.vendorComparisionData;l?.currentValue?.vendorComparision&&(this.handleVendorComparisonChange(l.currentValue.vendorComparision),this.nameMonth1=l?.currentValue?.month1Label,this.nameMonth2=l?.currentValue?.month2Label)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}adaptarResponsive(){this.breakpointObserver.observe([M.Handset]).pipe(v(this.destroy$)).subscribe(e=>{this.displayedColumns=e?.matches?this.mobileColumns:this.fullColumns})}handleVendorComparisonChange(e){this.dataSource.data=e}onPageChange(e){this.changePage.emit({pageIndex:e.pageIndex,pageSize:e.pageSize})}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-list-compare-bets"]],viewQuery:function(l,a){if(l&1&&Ct(k,5),l&2){let p;vt(p=bt())&&(a.paginator=p.first)}},inputs:{vendorComparisionData:"vendorComparisionData",loading:"loading",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",overallTotal:"overallTotal"},outputs:{changePage:"changePage"},standalone:!0,features:[$,x],decls:3,vars:2,consts:[["loadingTpl",""],["class","table-container",4,"ngIf","ngIfElse"],[1,"table-container"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"length","pageIndex","pageSize","pageSizeOptions","page",4,"ngIf"],["class","empty-state",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","vendorName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","valueMonth1"],["matColumnDef","valueMonth2"],["matColumnDef","total"],["matColumnDef","variation"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-row",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],[3,"ngClass"],["inline","",4,"ngIf"],["inline",""],["mat-header-row",""],["mat-row","",1,"table-row"],["mat-footer-row",""],["showFirstLastButtons","",3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"empty-state"],[1,"loading-container"],["mode","indeterminate","diameter","50"]],template:function(l,a){if(l&1&&c(0,De,4,3,"div",1)(1,Ee,4,0,"ng-template",null,0,G),l&2){let p=A(2);m("ngIf",!a.loading)("ngIfElse",p)}},dependencies:[B,Mt,D,Q,S,Nt,R,J,W,ot,Z,K,at,X,it,tt,nt,et,rt,st,lt,k],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto;width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{border-radius:8px 8px 0 0!important;box-shadow:0 2px 8px #0000001a}table[_ngcontent-%COMP%]{width:100%;overflow:hidden;flex:1}.table-row[_ngcontent-%COMP%]{height:48px!important}.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px!important}.mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-header-cell[_ngcontent-%COMP%]{padding:10px 16px!important;font-size:14px}mat-paginator[_ngcontent-%COMP%]{border-radius:0 0 8px 8px!important;margin-top:0;box-shadow:0 2px 8px #0000001a}.actions-header[_ngcontent-%COMP%]{text-align:center!important}.actions-cell[_ngcontent-%COMP%]{text-align:center}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 3px;width:90px!important;height:30px;font-size:15px;font-weight:500;border-radius:4px;line-height:1;padding:0 6px}.actions-cell[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.actions-cell[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:hover{background-color:#f57c00}.actions-cell[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.actions-cell[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.empty-state[_ngcontent-%COMP%]{text-align:center;margin-top:16px;color:#000;font-size:14px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:40px 0;color:#555}.loading-container[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.text-success[_ngcontent-%COMP%]{color:#2e7d32;font-weight:500}.text-danger[_ngcontent-%COMP%]{color:#c62828;font-weight:500}.text-muted[_ngcontent-%COMP%]{color:#6c757d;font-weight:500}"]})}}return t})();var dt=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}];function Kt(t){let n=t.get("month1")?.value,e=t.get("month2")?.value;return n!==null&&e!==null&&n>e?{monthRange:!0}:null}function Le(t,n){if(t&1&&(o(0,"mat-option",11),s(1),i()),t&2){let e=n.$implicit;m("value",e.value),r(),g(" ",e.label," ")}}function Re(t,n){t&1&&(o(0,"div",12),s(1," El mes inicial no puede ser mayor al mes final. "),i())}function ke(t,n){if(t&1&&(o(0,"mat-option",11),s(1),i()),t&2){let e=n.$implicit;m("value",e.value),r(),g(" ",e.label," ")}}function ze(t,n){if(t&1&&(o(0,"div",13)(1,"button",14),s(2," Filtrar "),i()()),t&2){let e=f();r(),m("disabled",!e.form.valid)}}function Ue(t,n){t&1&&(o(0,"div",13),d(1,"mat-progress-spinner",15),i())}var ut=(()=>{class t{constructor(){this.loading=!1,this.valuesForm=new L,this.fb=u(Lt),this.breakpointObserver=u(y),this.destroy$=new C,this.isMobile=!1,this.currentDate=new Date,this.currentMonth=this.currentDate.getMonth()+1,this.currentYear=this.currentDate.getFullYear(),this.previousMonth=this.currentMonth===1?12:this.currentMonth-1,this.form=this.fb.group({year:[this.currentYear,Y.required],month1:[this.previousMonth,Y.required],month2:[this.currentMonth,Y.required]},{validators:Kt}),this.months=dt}ngOnInit(){this.configResponsive(),this.emitForFather()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}configResponsive(){this.breakpointObserver.observe([M.Handset]).pipe(v(this.destroy$)).subscribe(e=>{this.isMobile=e?.matches})}emitValues(){let e=this.form.value;this.valuesForm.emit(e)}emitForFather(){this.form.valid&&this.emitValues()}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-form-compare-bets"]],inputs:{loading:"loading"},outputs:{valuesForm:"valuesForm"},standalone:!0,features:[x],decls:25,vars:8,consts:[[1,"form-container"],[1,"form-card"],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"alert-form"],["appearance","outline",1,"three-width"],["matInput","","type","number","min","0","formControlName","year","name","year"],["formControlName","month1"],[3,"value",4,"ngFor","ngForOf"],["class","error-text",4,"ngIf"],["formControlName","month2"],["class","button-group",4,"ngIf"],[3,"value"],[1,"error-text"],[1,"button-group"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","30","mode","indeterminate","color","accent"]],template:function(l,a){l&1&&(o(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),s(4,"Filtro"),i()(),o(5,"mat-card-content")(6,"form",2),_("ngSubmit",function(){return a.emitForFather()}),o(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),s(10,"A\xF1o base"),i(),d(11,"input",5),i(),o(12,"mat-form-field",4)(13,"mat-label"),s(14,"Mes inicial"),i(),o(15,"mat-select",6),c(16,Le,2,2,"mat-option",7),i()(),c(17,Re,2,0,"div",8),o(18,"mat-form-field",4)(19,"mat-label"),s(20,"Mes final"),i(),o(21,"mat-select",9),c(22,ke,2,2,"mat-option",7),i()()(),c(23,ze,3,1,"div",10)(24,Ue,2,0,"div",10),i()()()()),l&2&&(I("mobile",a.isMobile),r(6),m("formGroup",a.form),r(10),m("ngForOf",a.months),r(),m("ngIf",a.form.errors==null?null:a.form.errors.monthRange),r(5),m("ngForOf",a.months),r(),m("ngIf",!a.loading),r(),m("ngIf",a.loading))},dependencies:[qt,St,D,Tt,wt,Ft,Bt,Pt,Et,It,Dt,S,zt,kt,Ut,E,$t,Ht,jt,Vt,R,At,Rt],styles:[".form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;height:fit-content}.form-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:16px;border-radius:8px;box-shadow:0 2px 8px #0000001a}.form-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:12px;text-align:center}.form-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#333;margin:0}.alert-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.alert-form[_ngcontent-%COMP%]   .three-width[_ngcontent-%COMP%]{width:100%}.alert-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-radius:4px}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;margin-top:12px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:90px;height:36px;border-radius:4px;font-weight:500;font-size:14px}.button-group[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]:disabled{background:#ccc;color:#999}.error-text[_ngcontent-%COMP%]{color:red;text-align:center}"]})}}return t})();var Wt=(()=>{class t{constructor(){this.compareBetsUseCase=u(Qt),this.breakpointObserver=u(y),this.destroy$=new C,this.notification=u(pt),this.isMobile=!1,this.isLoading=!1,this.pageIndex=0,this.pageSize=25,this.totalItems=0,this.overallTotal=0,this.showForm=!1}ngOnInit(){this.breakpointObserver.observe([M.Handset]).pipe(v(this.destroy$)).subscribe(e=>{this.isMobile=e?.matches})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilter(e,l=0,a=25){return N(this,null,function*(){this.isLoading=!0;try{let{result:p,total:h,overallTotal:_t}=yield this.compareBetsUseCase.execute(e,l,a),{month1:te,month2:ee}=e||{},{month1Label:ne,month2Label:oe}=dt.reduce((ft,U)=>(U.value===te&&(ft.month1Label=U.label),U.value===ee&&(ft.month2Label=U.label),ft),{month1Label:"Mes 1",month2Label:"Mes 2"});this.vendorComparisionData={vendorComparision:p,month1Label:ne,month2Label:oe},this.totalItems=h,this.pageIndex=l,this.pageSize=a,this.overallTotal=_t,this.lastFormValues=e}catch(p){this.notification.error(ct(p))}finally{this.isLoading=!1}})}toggleForm(){this.showForm=!this.showForm}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-compare-bets"]],standalone:!0,features:[x],decls:8,vars:11,consts:[[1,"toolbar"],["mat-raised-button","","color","primary",3,"click"],[1,"layout"],[1,"form-section",3,"hidden"],[3,"valuesForm","loading"],[1,"table-section"],[3,"changePage","vendorComparisionData","loading","total","pageIndex","pageSize","overallTotal"]],template:function(l,a){l&1&&(o(0,"div",0)(1,"button",1),_("click",function(){return a.toggleForm()}),s(2),i()(),o(3,"div",2)(4,"div",3)(5,"app-form-compare-bets",4),_("valuesForm",function(h){return a.applyFilter(h)}),i()(),o(6,"div",5)(7,"app-list-compare-bets",6),_("changePage",function(h){return a.applyFilter(a.lastFormValues,h.pageIndex,h.pageSize)}),i()()()),l&2&&(r(2),g(" ",a.showForm?"Mostrar filtros":"Ocultar filtros"," "),r(),I("column",a.isMobile),r(),m("hidden",!a.showForm),r(),m("loading",a.isLoading),r(2),m("vendorComparisionData",a.vendorComparisionData)("loading",a.isLoading)("total",a.totalItems)("pageIndex",a.pageIndex)("pageSize",a.pageSize)("overallTotal",a.overallTotal))},dependencies:[B,S,E,ut,Jt],styles:[".layout[_ngcontent-%COMP%]{display:flex;gap:24px;padding:20px;min-height:100vh;box-sizing:border-box}.layout.column[_ngcontent-%COMP%]{flex-direction:column}.layout.column[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%], .layout.column[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]{width:100%;flex:none}.form-section[_ngcontent-%COMP%]{flex:0 0 350px;min-width:0}.table-section[_ngcontent-%COMP%]{flex:1;min-width:0}.toolbar[_ngcontent-%COMP%]{padding:16px 20px 0}"]})}}return t})();var Ne=t=>({color:t}),$e=()=>[25];function Ve(t,n){t&1&&(o(0,"th",17),s(1,"Usuario"),i())}function He(t,n){if(t&1&&(o(0,"td",18),s(1),i()),t&2){let e=n.$implicit;r(),P(e==null?null:e.userName)}}function je(t,n){t&1&&(o(0,"td",19)(1,"strong"),s(2,"Total general:"),i()())}function Ae(t,n){t&1&&(o(0,"th",17),s(1,"Loter\xEDa"),i())}function qe(t,n){if(t&1&&(o(0,"td",18)(1,"span",20),s(2),i()()),t&2){let e=n.$implicit;r(),m("ngStyle",xt(2,Ne,e==null?null:e.colorLottery)),r(),g(" ",e==null?null:e.lottery," ")}}function Ge(t,n){t&1&&d(0,"td",19)}function Qe(t,n){t&1&&(o(0,"th",17),s(1,"# Loter\xEDa"),i())}function Ye(t,n){if(t&1&&(o(0,"td",18),s(1),i()),t&2){let e=n.$implicit;r(),P(e==null?null:e.countLottery)}}function Je(t,n){t&1&&d(0,"td",19)}function Ke(t,n){t&1&&(o(0,"th",17),s(1,"Total"),i())}function We(t,n){if(t&1&&(o(0,"td",18),s(1),T(2,"currency"),i()),t&2){let e=n.$implicit;r(),g(" ",F(2,1,e==null?null:e.total,"COP","symbol")," ")}}function Xe(t,n){if(t&1&&(o(0,"td",19)(1,"strong"),s(2),T(3,"currency"),i()()),t&2){let e=f(3);r(2),P(F(3,1,e.overallTotal,"COP","symbol"))}}function Ze(t,n){t&1&&d(0,"tr",21)}function tn(t,n){t&1&&d(0,"tr",22)}function en(t,n){t&1&&d(0,"tr",23)}function nn(t,n){if(t&1&&(o(0,"table",6),O(1,7),c(2,Ve,2,0,"th",8)(3,He,2,1,"td",9)(4,je,3,0,"td",10),w(),O(5,11),c(6,Ae,2,0,"th",8)(7,qe,3,4,"td",9)(8,Ge,1,0,"td",10),w(),O(9,12),c(10,Qe,2,0,"th",8)(11,Ye,2,1,"td",9)(12,Je,1,0,"td",10),w(),O(13,13),c(14,Ke,2,0,"th",8)(15,We,3,5,"td",9)(16,Xe,4,5,"td",10),w(),c(17,Ze,1,0,"tr",14)(18,tn,1,0,"tr",15)(19,en,1,0,"tr",16),i()),t&2){let e=f(2);m("dataSource",e.dataSource),r(17),m("matHeaderRowDef",e.displayedColumns),r(),m("matRowDefColumns",e.displayedColumns),r(),m("matFooterRowDef",e.displayedColumns)("matFooterRowDefSticky",!0)}}function on(t,n){if(t&1){let e=j();o(0,"mat-paginator",24),_("page",function(a){V(e);let p=f(2);return H(p.onPageChange(a))}),i()}if(t&2){let e=f(2);m("length",e.total)("pageIndex",e.pageIndex)("pageSize",25)("pageSizeOptions",q(4,$e))}}function an(t,n){t&1&&(o(0,"div",25)(1,"p"),s(2,"No hay resultados disponibles para los filtros seleccionados."),i()())}function rn(t,n){if(t&1&&(o(0,"div",2),c(1,nn,20,5,"table",3)(2,on,1,5,"mat-paginator",4)(3,an,3,0,"div",5),i()),t&2){let e=f();r(),m("ngIf",e.dataSource.data==null?null:e.dataSource.data.length),r(),m("ngIf",e.dataSource.data==null?null:e.dataSource.data.length),r(),m("ngIf",(e.dataSource==null||e.dataSource.data==null?null:e.dataSource.data.length)===0)}}function ln(t,n){t&1&&(o(0,"div",26),d(1,"mat-progress-spinner",27),o(2,"p"),s(3,"Cargando datos..."),i()())}var Xt=(()=>{class t{constructor(){this.loading=!1,this.total=0,this.pageIndex=0,this.pageSize=25,this.overallTotal=0,this.changePage=new L,this.breakpointObserver=u(y),this.destroy$=new C,this.fullColumns=["creatorName","lotteryName","countLottery","total"],this.mobileColumns=["creatorName","total"],this.dataSource=new mt([]),this.displayedColumns=[]}ngOnInit(){this.adaptarResponsive()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){let l=e.userComparisionData;l?.currentValue&&this.handleUserComparisonChange(l?.currentValue)}handleUserComparisonChange(e){this.dataSource.data=e}adaptarResponsive(){this.breakpointObserver.observe([M.Handset]).pipe(v(this.destroy$)).subscribe(e=>{this.displayedColumns=e?.matches?this.mobileColumns:this.fullColumns})}onPageChange(e){this.changePage.emit({pageIndex:e.pageIndex,pageSize:e.pageSize})}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-list-by-users-bets"]],inputs:{userComparisionData:"userComparisionData",loading:"loading",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",overallTotal:"overallTotal"},outputs:{changePage:"changePage"},standalone:!0,features:[$,x],decls:3,vars:2,consts:[["loadingTpl",""],["class","table-container",4,"ngIf","ngIfElse"],[1,"table-container"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"length","pageIndex","pageSize","pageSizeOptions","page",4,"ngIf"],["class","empty-state",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","creatorName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","lotteryName"],["matColumnDef","countLottery"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-row",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],[3,"ngStyle"],["mat-header-row",""],["mat-row","",1,"table-row"],["mat-footer-row",""],["showFirstLastButtons","",3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"empty-state"],[1,"loading-container"],["mode","indeterminate","diameter","50"]],template:function(l,a){if(l&1&&c(0,rn,4,3,"div",1)(1,ln,4,0,"ng-template",null,0,G),l&2){let p=A(2);m("ngIf",!a.loading)("ngIfElse",p)}},dependencies:[B,D,Ot,Q,S,R,J,W,ot,Z,K,at,X,it,tt,nt,et,rt,st,lt,k],styles:[".table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto;width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{border-radius:8px 8px 0 0!important;box-shadow:0 2px 8px #0000001a}table[_ngcontent-%COMP%]{width:100%;overflow:hidden;flex:1}.table-row[_ngcontent-%COMP%]{height:48px!important}.mat-mdc-header-row[_ngcontent-%COMP%]{height:40px!important}.mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-header-cell[_ngcontent-%COMP%]{padding:10px 16px!important;font-size:14px}mat-paginator[_ngcontent-%COMP%]{border-radius:0 0 8px 8px!important;margin-top:0;box-shadow:0 2px 8px #0000001a}.actions-header[_ngcontent-%COMP%]{text-align:center!important}.actions-cell[_ngcontent-%COMP%]{text-align:center}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 3px;width:90px!important;height:30px;font-size:15px;font-weight:500;border-radius:4px;line-height:1;padding:0 6px}.actions-cell[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.actions-cell[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:hover{background-color:#f57c00}.actions-cell[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.actions-cell[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.empty-state[_ngcontent-%COMP%]{text-align:center;margin-top:16px;color:#000;font-size:14px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:40px 0;color:#555}.loading-container[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.text-success[_ngcontent-%COMP%]{color:#2e7d32;font-weight:500}.text-danger[_ngcontent-%COMP%]{color:#c62828;font-weight:500}.text-muted[_ngcontent-%COMP%]{color:#6c757d;font-weight:500}"]})}}return t})();var Zt=(()=>{class t{constructor(){this.compareBetsUseCase=u(Gt),this.breakpointObserver=u(y),this.destroy$=new C,this.notification=u(pt),this.isMobile=!1,this.isLoading=!1,this.pageIndex=0,this.pageSize=25,this.totalItems=0,this.overallTotal=0,this.showForm=!1}ngOnInit(){this.breakpointObserver.observe([M.Handset]).pipe(v(this.destroy$)).subscribe(e=>{this.isMobile=e?.matches})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}applyFilter(e,l=0,a=25){return N(this,null,function*(){this.isLoading=!0;try{let{result:p,total:h,overallTotal:_t}=yield this.compareBetsUseCase.execute(e);this.userComparisionData=p,this.totalItems=h,this.pageIndex=l,this.pageSize=a,this.overallTotal=_t,this.lastFormValues=e}catch(p){this.notification.error(ct(p))}finally{this.isLoading=!1}})}toggleForm(){this.showForm=!this.showForm}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-by-users-bets"]],standalone:!0,features:[x],decls:8,vars:11,consts:[[1,"toolbar"],["mat-raised-button","","color","primary",3,"click"],[1,"layout"],[1,"form-section",3,"hidden"],[3,"valuesForm","loading"],[1,"table-section"],[3,"changePage","userComparisionData","loading","total","pageIndex","pageSize","overallTotal"]],template:function(l,a){l&1&&(o(0,"div",0)(1,"button",1),_("click",function(){return a.toggleForm()}),s(2),i()(),o(3,"div",2)(4,"div",3)(5,"app-form-compare-bets",4),_("valuesForm",function(h){return a.applyFilter(h)}),i()(),o(6,"div",5)(7,"app-list-by-users-bets",6),_("changePage",function(h){return a.applyFilter(a.lastFormValues,h.pageIndex,h.pageSize)}),i()()()),l&2&&(r(2),g(" ",a.showForm?"Mostrar filtros":"Ocultar filtros"," "),r(),I("column",a.isMobile),r(),m("hidden",!a.showForm),r(),m("loading",a.isLoading),r(2),m("userComparisionData",a.userComparisionData)("loading",a.isLoading)("total",a.totalItems)("pageIndex",a.pageIndex)("pageSize",a.pageSize)("overallTotal",a.overallTotal))},dependencies:[B,S,E,ut,Xt],styles:[".layout[_ngcontent-%COMP%]{display:flex;gap:24px;padding:20px;min-height:100vh;box-sizing:border-box}.layout.column[_ngcontent-%COMP%]{flex-direction:column}.layout.column[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%], .layout.column[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]{width:100%;flex:none}.form-section[_ngcontent-%COMP%]{flex:0 0 350px;min-width:0}.table-section[_ngcontent-%COMP%]{flex:1;min-width:0}.toolbar[_ngcontent-%COMP%]{padding:16px 20px 0}"]})}}return t})();function sn(t,n){t&1&&(o(0,"div",4),d(1,"app-compare-bets"),i())}function mn(t,n){t&1&&(o(0,"div",4),d(1,"app-by-users-bets"),i())}var Ro=(()=>{class t{constructor(){this.breakpointObserver=u(y),this.destroy$=new C,this.isMobile=!1,this.selectedReport=null}ngOnInit(){this.breakpointObserver.observe([M.Handset]).pipe(v(this.destroy$)).subscribe(e=>{this.isMobile=e?.matches})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}toggleReports(e){this.selectedReport=e}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-reports"]],standalone:!0,features:[x],decls:8,vars:4,consts:[[1,"toolbar"],["mat-raised-button","","color","primary",3,"click"],[1,"layout"],["class","table-section",4,"ngIf"],[1,"table-section"]],template:function(l,a){l&1&&(o(0,"div",0)(1,"button",1),_("click",function(){return a.toggleReports("compare")}),s(2," Reporte entre meses "),i(),o(3,"button",1),_("click",function(){return a.toggleReports("byUser")}),s(4," Reporte de apuestas por usuario "),i()(),o(5,"div",2),c(6,sn,2,0,"div",3)(7,mn,2,0,"div",3),i()),l&2&&(r(5),I("column",a.isMobile),r(),m("ngIf",a.selectedReport==="compare"),r(),m("ngIf",a.selectedReport==="byUser"))},dependencies:[Wt,Zt,S,E,B,D],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:10px;padding:16px 20px 0}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:160px;white-space:nowrap;text-align:center}"]})}}return t})();export{Ro as ReportsComponent};
