import{A as R,C as y,D as o,n as A,q as a,r as D,s as l,u as P,v as u,z as f}from"./chunk-VJ6QB3KB.js";import{$ as z,ea as g}from"./chunk-M2SJCD5Z.js";import{a as c,b as h,c as p}from"./chunk-DVOCWXDE.js";var v=(()=>{class n{constructor(t){this.firestore=t}createAlertParameterization(t){let e=t.uid||`alert_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r=l(a(this.firestore,"alert-parameterizations"),e),i=h(c({},t),{uid:e});return R(r,i).then(()=>i)}updateAlertParameterization(t,e){let r=l(a(this.firestore,"alert-parameterizations"),t),s=e,{uid:i}=s,d=p(s,["uid"]);return y(r,d).then(()=>e)}deleteAlertParameterization(t){let e=l(a(this.firestore,"alert-parameterizations"),t);return D(e)}getAlertParameterization(t){let e=l(a(this.firestore,"alert-parameterizations"),t);return P(e).then(r=>{if(!r.exists())return null;let i=r.data();return c({id:r.id},i)})}listAlertParameterizations(){let t=a(this.firestore,"alert-parameterizations");return u(t).then(e=>e.docs.map(r=>c({id:r.id},r.data())))}getAlertParameterizationByValue(t,e,r){let i=a(this.firestore,"alert-parameterizations"),d=f(i,o("value","==",t),o("digits","==",e));return r&&(d=f(i,o("value","==",t),o("digits","==",e),o("combined","==",r))),u(d).then(s=>{if(s.empty)return null;let m=s.docs[0];return c({id:m.id},m.data())})}static{this.\u0275fac=function(e){return new(e||n)(g(A))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{v as a};
